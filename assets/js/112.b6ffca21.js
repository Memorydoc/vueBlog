(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{385:function(s,a,n){"use strict";n.r(a);var t=n(10),e=Object(t.a)({},function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"查找-docker-hub-上的-mysql-镜像"}},[s._v("查找 Docker Hub 上的 MySQL 镜像")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("root@UbuntuBase:/usr/local/docker/mysql"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker search mysql")]),s._v("\nNAME                                                   DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nmysql                                                  MySQL is a widely used, open-source relati"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5177")]),s._v("                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                \nmariadb                                                MariaDB is a community-developed fork of M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1602")]),s._v("                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                \nmysql/mysql-server                                     Optimized MySQL Server Docker images. Crea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("361")]),s._v("                                     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\npercona                                                Percona Server is a fork of the MySQL rela"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("298")]),s._v("                 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                \nhypriot/rpi-mysql                                      RPi-compatible Docker Image with Mysql          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("                                      \nzabbix/zabbix-server-mysql                             Zabbix Server with MySQL database support       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v("                                      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncenturylink/mysql                                      Image containing mysql. Optimized to be li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v("                                      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nsameersbn/mysql                                                                                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("                                      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nzabbix/zabbix-web-nginx-mysql                          Zabbix frontend based on Nginx web-server "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v("                                      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ntutum/mysql                                            Base docker image to run a MySQL database "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("                                      \n1and1internet/ubuntu-16-nginx-php-phpmyadmin-mysql-5   ubuntu-16-nginx-php-phpmyadmin-mysql-5          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("                                      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nschickling/mysql-backup-s3                             Backup MySQL to S3 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("supports periodic back"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("                                      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncentos/mysql-57-centos7                                MySQL "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(" SQL database server                   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("                                      \nlinuxserver/mysql                                      A Mysql container, brought to you by Linux"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("                                      \ncentos/mysql-56-centos7                                MySQL "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v(" SQL database server                   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("                                       \nopenshift/mysql-55-centos7                             DEPRECATED: A Centos7 based MySQL v5.5 ima"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("                                       \nfrodenas/mysql                                         A Docker Image "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" MySQL                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("                                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndsteinkopf/backup-all-mysql                            backup all DBs "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a mysql server                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("                                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncircleci/mysql                                         MySQL is a widely used, open-source relati"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                                       \ncloudposse/mysql                                       Improved "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" with support "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nastronomerio/mysql-sink                                MySQL sink                                      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nansibleplaybookbundle/rhscl-mysql-apb                  An APB "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" deploys RHSCL MySQL                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncloudfoundry/cf-mysql-ci                               Image used "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" CI of cf-mysql-release            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                                       \nastronomerio/mysql-source                              MySQL "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v("                                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\njenkler/mysql                   \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("p",[s._v("这里我们拉取官方的镜像(这里使用的是5.7.27版本)")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("docker pull mysql:5.7.27\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("等待下载完成后，我们就可以在本地镜像列表里查到 REPOSITORY 为 mysql 的镜像")]),s._v(" "),n("h2",{attrs:{id:"运行容器"}},[s._v("运行容器")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("docker run -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 --name mysql-sizegang "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /usr/local/docker/mysql/conf:/etc/mysql "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /usr/local/docker/mysql/logs:/var/log/mysql "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /usr/local/docker/mysql/data:/var/lib/mysql "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-e "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d mysql:5.7.27\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("命令参数：")]),s._v(" "),n("ul",[n("li",[s._v("-p 3306:3306：将容器的3306端口映射到主机的3306端口")]),s._v(" "),n("li",[s._v("-v /usr/local/docker/mysql/conf:/etc/mysql：将主机当前目录下的 conf 挂载到容器的 /etc/mysql")]),s._v(" "),n("li",[s._v("-v /usr/local/docker/mysql/logs:/var/log/mysql：将主机当前目录下的 logs 目录挂载到容器的 /var/log/mysql")]),s._v(" "),n("li",[s._v("-v /usr/local/docker/mysql/data:/var/lib/mysql：将主机当前目录下的 data 目录挂载到容器的 /var/lib/mysql")]),s._v(" "),n("li",[s._v("-e MYSQL_ROOT_PASSWORD=123456：初始化root用户的密码\n查看容器启动情况")])]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("root@UbuntuBase:/usr/local/docker/mysql"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES\nbc49c9de4cdf        mysql:latest        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docker-entrypoint..."')]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" minutes ago       Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" minutes        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:3306-"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/tcp   mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("使用客户端工具连接 MySQL")]),s._v(" "),n("p",[n("img",{attrs:{src:"/img/dockerinstall/mysql1.png",alt:"mysql1"}})]),s._v(" "),n("h3",{attrs:{id:"附加"}},[s._v("附加")]),s._v(" "),n("p",[s._v("如果你直接执行docker pull mysql 会拉去最新的lasted版本（8.x）\n会需要额外在启动参数中添加数据卷 mysql_files")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("```sh \ndocker run -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 --name mysql-sizegang "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /usr/local/docker/mysql/conf:/etc/mysql "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /usr/local/docker/mysql/logs:/var/log/mysql "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /usr/local/docker/mysql/data:/var/lib/mysql "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /usr/local/docker/mysql/mysql_files/:/var/data/mysql_files "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-e "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("同时需要配置一下\npassword格式，在连接sqlyong的时候\n"),n("img",{attrs:{src:"/img/dockerinstall/mysql2.png",alt:"mysql1"}})])])},[],!1,null,null,null);a.default=e.exports}}]);